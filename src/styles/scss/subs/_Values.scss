@use "../abstracts" as *;

.values {
  @include main-margin-bottom;

  & .value-box {
    position: relative;
    width: 40%;
    min-width: 350px;
    height: fit-content;

    background-color: $color-black;
    margin-bottom: 20vh;

    &#first-box {
      margin-right: auto;
      background-color: $color-white;
      min-height: 100vh;

      //dev
      border: 1px solid red;

      & .text-box {
        position: sticky;
        top: 40%;
        color: white;
        text-align: right;
        margin-left: auto;
        z-index: 2;
        mix-blend-mode: exclusion;

        //dev
        border: 1px solid white;
      }

      & .text-landing-spot {
        position: absolute;
        width: 100%;
        height: 9rem;
        bottom: 0;
        z-index: 1;
        background-color: $color-black;
      }
    } //end of first-box

    &#second-box {
      margin-left: auto;
      width: 0;
      min-width: 0px;
      overflow: hidden;

      & .text-box {
        visibility: hidden;
        opacity: 0;
        text-align: left;
        margin-right: auto;
        transform: translateX(2rem);
      }

      //scroll trigger effect on right box
      &.show {
        width: 40%;
        min-width: 350px;
        transition: all 0.5s ease;

        & .text-box {
          visibility: visible;
          opacity: 1;
          transform: translateX(0);
          transition: all 1s ease 0.4s;

          & #wave-span {
            @for $i from 1 through 25 {
              & span:nth-child(#{$i}) {
                display: inline-block;
                animation: text-wave 0.3s ease;
                animation-delay: calc(0.9s + 0.05s * $i);
              }
            }
          }

          @keyframes text-wave {
            50% {
              transform: translateY(-0.5rem);
            }
            100% {
              transform: translateY(0);
            }
          }
        }
      }
    } //end of second-box

    & .text-box {
      display: flex;
      flex-flow: column;
      white-space: nowrap;
      color: $color-white;
      font-size: $font-size-h;
      width: fit-content;
      height: 100%;
      padding: 2.5rem 2rem;

      & .box-span {
        line-height: 2rem;
      }
    }
  }
}
